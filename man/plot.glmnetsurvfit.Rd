% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/postsurvplots.R
\name{plot.glmnetsurvfit}
\alias{plot.glmnetsurvfit}
\title{Plot survival and cumulative hazard curves}
\usage{
\method{plot}{glmnetsurvfit}(x, ..., type = c("surv", "cumhaz"), lsize = 0.3, compare = FALSE)
}
\arguments{
\item{x}{a \code{\link[glmnetpostsurv]{glmnetsurvfit.glmnet}} or \code{\link[glmnetpostsurv]{glmnetbasehaz.glmnet}} object.}

\item{...}{for future implementations}

\item{type}{type of curve to generate. Either \code{type = "surv"} for survival curves or \code{type = "cumhaz"} for cumulative hazard curve.}

\item{lsize}{line size for the curves. Default is \code{0.3}.}

\item{compare}{logical. Whether to return plot with labels to add additional \code{geom} object for comparison. Default is \code{FALSE}.}
}
\value{
a \code{\link[ggplot2]{ggplot}} object.
}
\description{
Plot estimated survival and cumulative  hazard curves for \code{glmnet} model.
\code{\link[glmnetpostsurv]{glmnetsurvfit.glmnet}}
}
\details{
Depending on the specification in \code{\link[glmnetpostsurv]{glmnetsurvfit.glmnet}}, this function plots either average or individual survival or cumulative hazard curves. The plot is a \code{\link[ggplot2]{ggplot}} object, hence can be be customized further, see example below.
}
\examples{

library(ggplot2)
data(veteran, package="survival")

lam <- 0
alp <- 1
sobj <- with(veteran, Surv(time, status))
X <- model.matrix(~factor(trt) + karno + diagtime + age + prior, data = veteran)[,-1]
gmodel <- glmnet(X, sobj, 'cox', alpha = alp, lambda = lam)

# Survival estimate
gsurv <- glmnetsurvfit(fit = gmodel, Y = sobj, X = X, s = lam)

# Plot survival curves
plot(gsurv)

# Baseline survival estimate
gbsurv <- glmnetbasehaz(gmodel, Y = sobj, X = X, s = lam, centered = FALSE)
plot(gbsurv)

# Compare overall and baseline cumulative hazard
p1 <- plot(gsurv, type = "cumhaz", compare = TRUE)
df2 <- data.frame(time = gbsurv$time, cumhaz = gbsurv$hazard)
p2 <- (p1
	+ geom_line(data = df2, aes(x = time, y = cumhaz, group = 1, col = "baseline"))
	+ scale_colour_manual(name = "C. hazard"
		, values = c("#E41A1C", "#000000")
		, labels = c("baseline", "overall")
	)
)
print(p2)

}
